
<template name="testDataForm">

  <div class="form-group">
    <label for="title" class="control-label">Title</label>
    <input type="text" class="form-control" name="title" value="{{title}}"
        placeholder="Title" required autofocus />
  </div>

  <div class="form-group">
    <label for="comment" class="control-label">Comment</label>
    <textarea class="form-control" name="comment" placeholder="Add a comment ...">{{comment}}</textarea>
    <p class="help-block">Tell me about this row</p>
  </div>

  <div class="form-group">
    <label for="measurements" class="control-label">Measurements</label>
    {{> instrumentMeasurements}}
    <span class="help-block">Measurements this instrument can collect.</span>
  </div>

</template>

<template name="instrumentMeasurements">
  <table class="table table-condensed">
    <thead>
      <tr>
        <th>Measurment</th><th>Units</th><th></th>
      </tr>
    </thead>
    <tbody>
        {{#each measurements}}
          <tr>
            <td>{{name}}<input type="hidden" name="measurements.{{index}}.name" value="{{name}}"/></td>
            <td>{{units}}<input type="hidden" name="measurements.{{index}}.units" value="{{units}}"/></td>
            <td>
              <button class="remove-measurement btn btn-link"><i class="fa fa-minus-circle"></i></button>
            </td>
          </tr>
        {{/each}}
        <tr>
          <td>
            <input type="text" class="form-control" id="new-measurement" placeholder="measurement" />
          </td>
          <td>
            <input type="text" class="form-control" id="new-units" placeholder="units" />
          </td>
          <td>
            <button id="add-measurement" class="btn btn-link"><i class="fa fa-plus-circle"></i></button>
          </td>
        </tr>
    </tbody>
  </table>
</template>